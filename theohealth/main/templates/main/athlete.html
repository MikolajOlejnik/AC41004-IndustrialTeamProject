{% extends "main/base.html" %}
{% load static %}

{% block title %} theo {% endblock title %}

{% block content %}
<div class="heading">
  <!-- print curremt athlete's name and info -->
  {% if athlete %} 
    <h1>{{ athlete.first_name }} {{ athlete.last_name }}</h1>
    <div class="row justify-content-center">
    <div class="col col-sm-12 col-md-6">
      <ul class="list-group">
        <li class="list-group-item">Contact: {{athlete.contact_nb}}</li>
        <li class="list-group-item"><i class="bi bi-envelope-fill"></i> Email: {{athlete.email}}</li>
        <li class="list-group-item"><i class="bi bi-telephone-fill"></i>Phone: {{athlete.phone_nb}}</li>
        <li class="list-group-item">Injury: {{athlete.injury}}</li>
      </ul>
    </div>
    </div>
  {% endif %}
</div>

<div class="container">
<!-- heading -->
<div class="row justify-content-center text-center">
  <div class="col">
    <h1>HEAT MAP</h1>
  </div>
</div>
<!-- start capture button -->
<div class="row justify-content-center">
  <div class="col text-center">
    <button class="btn btn-primary my-4" type="submit"><i class="bi bi-play-fill" id="captureBtn"> Start Capture</i></button>
  </div>
</div>

<!-- pop up messages -->
<!-- Button trigger modal -->
<div class="row justify-content-center">
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#motivationModal">
    Open Motivation
  </button>
</div>
<!-- modal -->
<div class="row justify-content-center">
  <div class="modal fade" id="motivationModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body text-center">
          <p>Keep going</p>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- display heatmap here -->
<div class="row justify-content-center text-center">
  <span class="border border-dark">
  <div class="col-11">
    <!-- format heatmap to fit on screen -->
    <div id="heatmap">  
    </div>
  </div>
  </span>
</div>
<!-- heatmap legend -->
<div class="row justify-content-center">
  <div class="col text-center">
    <img src="{% static 'main/images/heatmap_legend.png' %}" class="img-fluid" width="190" height="60" alt="legend">
  </div>
</div>
</div>
{% endblock content %}

{% block javascript %}
<!-- import heatmap -->
<script type="module" src="{% static 'main/js/heatmap.js' %}"></script>
<script type="module" src="{% static 'main/js/training_manager.js' %}"></script>

<!-- motivational messages pop up -->
<script>
</script>

<!-- motivational messages disappear after seconds
<script>
  setTimeout(function(){
    $('#motivationModal').dialog('close');
  }, 2000);
</script>

<script>
$('#motivationModal').on('shown', function() {
    // remove previous timeouts
    clearTimeout(myModalTimeout);

    // hide modal after time 
    myModalTimeout = setTimeout(function() {$('#motivationModal').modal('hide');}, 2000);
});
</script>


<script>
var myModal = $('#motivationModal').on('shown', function () 
{
    clearTimeout(myModal.data('hideInteval'))
    var id = setTimeout(function(){
        myModal.modal('hide');
    }, 2000);
    myModal.data('hideInteval', id);
})
</script>
-->


{% endblock javascript %}
 